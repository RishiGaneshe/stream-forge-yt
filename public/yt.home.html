<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
  
    <title>StreamForge — Smart Video Downloader</title>
  
    <link rel="icon" type="image/png" sizes="32x32" href="./assets//stream_forge_1.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/stream_forge_1.png">
  
<style>
:root{
  --bg:#0f172a;
  --bg-soft:#071029;
  --card:#0b1220;
  --accent:#ef4444;
  --accent-soft:#f87171;
  --muted:#94a3b8;
  --radius:14px;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
}
*{box-sizing:border-box}
html,body{margin:0;background:linear-gradient(180deg,var(--bg-soft),var(--bg));color:#e6eef8;-webkit-font-smoothing:antialiased;}
.container{max-width:1100px;margin:auto;padding:24px 16px 80px;transition:all .3s;}

header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 20px;
  font-weight: 700;
}

.logo{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:24px;
  font-weight:800;
}

.logo img{
  height:32px;
  width:auto;
}

.logo img {
  height: 32px;
  width: auto;
}


header{display:flex;justify-content:space-between;align-items:center;margin-bottom:36px;}
.logo{font-size:24px;font-weight:800;}
.logo span{color:var(--accent)}
.nav{font-size:14px;color:var(--muted);}
.hero{text-align:center;margin-bottom:40px;}
.hero h1{font-size:36px;margin:0 0 12px;}
.hero p{color:var(--muted);max-width:620px;margin:0 auto;font-size:16px;}

/* Card */
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
  border:1px solid rgba(255,255,255,.05);
  box-shadow:0 20px 50px rgba(2,6,23,0.7);
  border-radius:var(--radius);
  padding:28px;
}
.badge{
  display:inline-block;
  background:var(--accent);
  padding:6px 14px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  margin-bottom:14px;
}

/* Inputs */
.input-row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px;}
input,select{
  flex:1;
  background:#020617;
  border:1px solid rgba(255,255,255,.08);
  border-radius:10px;
  padding:12px 14px;
  color:#e6eef8;
  font-size:14px;
  outline:none;
}
input:focus,select:focus{border-color:var(--accent-soft);}
button{background:var(--accent);border:none;color:white;border-radius:10px;padding:5px 25px;font-weight:600;cursor:pointer;transition:all .2s;}
button:hover:not(:disabled){background:var(--accent-soft);}
button.secondary{background:transparent;border:1px solid var(--accent-soft);color:var(--accent-soft);}
button:disabled{opacity:.6;cursor:not-allowed;}

/* Status */
.status{margin-top:10px;font-size:13px;color:var(--muted);}

/* Options */
.options{margin-top:18px;display:none;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px;transition:all .3s;}
.option{font-size:13px;}
.option label{display:block;color:var(--muted);margin-bottom:6px;}

/* Video Card */
.video-card{display:none;margin-top:24px;border-top:1px solid rgba(255,255,255,.06);padding-top:24px;}
.video-header{display:flex;gap:16px;flex-wrap:wrap;}
.thumb{width:240px;border-radius:12px;border:1px solid rgba(255,255,255,.05);object-fit:cover;}
.meta h3{margin:0 0 6px;font-size:18px;}
.meta .small{font-size:13px;color:var(--muted);}
.actions{margin-top:20px;display:flex;gap:12px;flex-wrap:wrap;}

/* ===== Features ===== */
.features{
  margin-top:64px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:24px;
}
.feature{
  background:rgba(255,255,255,0.02);
  border:1px solid rgba(255,255,255,0.04);
  border-radius:14px;
  padding:20px;
}
.feature h4{
  margin:0 0 6px;
  font-size:15px;
}
.feature p{
  margin:0;
  font-size:13px;
  color:var(--muted);
}


/* Footer */
footer{margin-top:64px;text-align:center;font-size:14px;color:var(--muted);}

/* Mobile */
@media(max-width:640px){
  .hero h1{font-size:26px}
  .video-header{flex-direction:column}
  .thumb{width:100%}
  .input-row{flex-direction:column}
}
</style>

</head>

<body>
<div class="container">

<header>
  <div class="logo">Stream<span>Forge</span></div>
  <div class="nav">Smart Downloader</div>
</header>

<section class="hero">
  <h1>Download Videos the Smart Way</h1>
  <p>Paste a YouTube URL, fetch metadata, select quality or audio, clip sections, and download safely.</p>
</section>

<section class="card">
  <span class="badge">Inspector</span>
  <h2>Paste Video URL</h2>
  <p class="lead">Fetch metadata and choose download options.</p>

  <div class="input-row">
    <input id="url" placeholder="https://www.youtube.com/watch?v=..." />
    <button id="fetch">Fetch</button>
  </div>

  <div id="status" class="status"></div>

  <div id="videoCard" class="video-card">
    <div class="video-header">
      <img id="thumb" class="thumb"/>
      <div class="meta">
        <h3 id="title"></h3>
        <div id="uploader" class="small"></div>
        <div id="duration" class="small"></div>
      </div>
    </div>

    <div class="options" id="options">
      <div class="option">
        <label>Type</label>
        <select id="type">
          <option value="video">Video</option>
          <option value="audio">Audio only</option>
        </select>
      </div>
      <div class="option">
        <label>Quality</label>
        <select id="quality"><option value="best">Best</option></select>
      </div>
      <div class="option">
        <label>Audio Format</label>
        <select id="audioFormat">
          <option value="mp3">MP3</option>
          <option value="m4a">M4A</option>
          <option value="opus">Opus</option>
        </select>
      </div>
      <div class="option">
        <label>Subtitles</label>
        <select id="subs">
          <option value="false">No</option>
          <option value="true">Yes</option>
        </select>
      </div>
      <div class="option">
        <label>Sub Language</label>
        <select id="subLang">
          <option value="en">English</option>
          <option value="hi">Hindi</option>
          <option value="fr">French</option>
          <option value="es">Spanish</option>
          <option value="de">German</option>
          <option value="zh">Chinese</option>
          <option value="ja">Japanese</option>
          <option value="ar">Arabic</option>
        </select>
      </div>      
      <div class="option">
        <label>Clip Start (HH:MM:SS)</label>
        <input id="startTime" placeholder="00:00:00"/>
      </div>
      <div class="option">
        <label>Clip End (HH:MM:SS)</label>
        <input id="endTime" placeholder="00:00:00"/>
      </div>
    </div>

    <div class="actions">
      <button onclick="download()">Download</button>
      <button class="secondary" onclick="resetUI()">Reset</button>
    </div>
  </div>
</section>

<section class="features">
    <div class="feature">
      <h4>Accurate Metadata</h4>
      <p>Real format data directly from yt-dlp.</p>
    </div>
    <div class="feature">
      <h4>No Client Processing</h4>
      <p>All heavy lifting happens server-side.</p>
    </div>
    <div class="feature">
      <h4>Clean MP4 Output</h4>
      <p>Audio + video properly merged.</p>
    </div>
  </section>

<footer>
    © 2026 StreamForge — Access videos freely — your control, your pace, no strings attached. Thank you Team Yt-dlp
</footer>

</div>

<script>
const fetchBtn = document.getElementById('fetch')
const urlInput = document.getElementById('url')
const statusEl = document.getElementById('status')
const videoCard = document.getElementById('videoCard')
const optionsEl = document.getElementById('options')
const qualitySelect = document.getElementById('quality')

fetchBtn.onclick = async () => {
  const url = urlInput.value.trim()
  if(!url){statusEl.textContent='Enter a valid URL'; return}

  fetchBtn.disabled = true
  statusEl.textContent='Fetching video info...'
  videoCard.style.display='none'
  optionsEl.style.display='none'

  try{
    const r = await fetch(`/video/info?url=${encodeURIComponent(url)}`)
    const j = await r.json()
    if(!j.success) throw 0
    render(j.data)
    populateQualityOptions(j.data.formats)
    videoCard.style.display='block'
    optionsEl.style.display='grid'
    statusEl.textContent=''
  }catch{
    statusEl.textContent='Failed to fetch video info'
  }finally{
    fetchBtn.disabled=false
  }
}

function render(d){
  thumb.src=d.thumbnail
  title.textContent=d.title
  uploader.textContent=`Uploader: ${d.uploader}`
  duration.textContent=`Duration: ${d.duration}s`
}

function populateQualityOptions(formats){
  const videoFormats = formats.filter(f=>f.acodec!=='none')
  const seen = new Set()
  qualitySelect.innerHTML='<option value="best">Best</option>'
  videoFormats.forEach(f=>{
    if(f.resolution && !seen.has(f.resolution)){
      seen.add(f.resolution)
      qualitySelect.innerHTML += `<option value="${f.resolution.replace('p','')}">${f.resolution}</option>`
    }
  })
}

function download(){
  const params = new URLSearchParams({
    url: urlInput.value,
    type: document.getElementById('type').value,
    quality: qualitySelect.value,
    audioFormat: document.getElementById('audioFormat').value,
    includeSubs: document.getElementById('subs').value,
    subLang: document.getElementById('subLang').value,
    startTime: document.getElementById('startTime').value,
    endTime: document.getElementById('endTime').value
  })
  location.href=`/video/download?${params.toString()}`
}

function resetUI(){
  videoCard.style.display='none'
  optionsEl.style.display='none'
  urlInput.value=''
  document.getElementById('subLang').value=''
  document.getElementById('startTime').value=''
  document.getElementById('endTime').value=''
  qualitySelect.innerHTML='<option value="best">Best</option>'
}
</script>
</body>
</html>
